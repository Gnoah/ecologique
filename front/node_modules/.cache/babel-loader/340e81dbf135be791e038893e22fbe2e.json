{"ast":null,"code":"import _defineProperty from \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/src/components/auth/Login.js\";\nimport React, { Component } from \"react\";\nimport { MDBRow, MDBCol, MDBInput, MDBBtn, MDBCard, MDBCardBody, MDBModalFooter, MDBIcon } from 'mdbreact';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      modal: false\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var userData = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      _this.props.loginUser(userData);\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // If logged in and user navigates to Login page, should redirect them to dashboard\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push(\"/Admin\");\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.auth.isAuthenticated) {\n        this.props.history.push(\"/Admin\");\n      }\n\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return React.createElement(\"div\", {\n        className: \"container-fluid\",\n        id: \"fond3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"0,5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(MDBCol, {\n        md: \"6\",\n        className: \"mx-auto mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        id: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(MDBCardBody, {\n        className: \"mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"dark-grey-text text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Connexion\")), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"mail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(MDBInput, {\n        label: \"Adress email\",\n        group: true,\n        type: \"email\",\n        validate: true,\n        error: \"wrong\",\n        success: \"right\",\n        className: classnames('form-control form-control-lg', {\n          'is-invalid': errors.email\n        }),\n        name: \"email\",\n        onChange: this.handleInputChange,\n        value: this.state.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), errors.email && React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, errors.email)), React.createElement(\"div\", {\n        id: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(MDBInput, {\n        label: \"Mot de passe\",\n        group: true,\n        type: \"password\",\n        validate: true,\n        containerClass: \"mb-0\",\n        className: classnames('form-control form-control-lg', {\n          'is-invalid': errors.password\n        }),\n        name: \"password\",\n        onChange: this.handleInputChange,\n        value: this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), errors.password && React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, errors.password)), React.createElement(\"div\", {\n        className: \"text-center pt-3 mb-3\",\n        id: \"mail2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        type: \"submit\",\n        gradient: \"purple\",\n        id: \"bt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Connexion\"))), React.createElement(\"div\", {\n        className: \"row my-3 d-flex justify-content-center\",\n        id: \"mail3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \" or Sign up with:\"), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        type: \"button\",\n        color: \"white\",\n        rounded: true,\n        className: \"mr-md-3 z-depth-1a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        fab: true,\n        icon: \"facebook-f\",\n        className: \"blue-text text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }))), React.createElement(MDBCol, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        type: \"button\",\n        color: \"white\",\n        rounded: true,\n        className: \"mr-md-3 z-depth-1a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        fab: true,\n        icon: \"twitter\",\n        className: \"blue-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))), React.createElement(MDBCol, {\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        type: \"button\",\n        color: \"white\",\n        rounded: true,\n        className: \"z-depth-1a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(MDBIcon, {\n        fab: true,\n        icon: \"google-plus-g\",\n        className: \"blue-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))))))), React.createElement(MDBModalFooter, {\n        className: \"mx-5 pt-3 mb-1\",\n        id: \"mail4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"grey-text d-flex justify-content-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Already a member? \", React.createElement(\"a\", {\n        href: \"#!\",\n        className: \"blue-text ml-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Connexion\")))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser\n})(Login);","map":{"version":3,"sources":["/home/dev/Bureau/simplon/Mon_projet_eco2/ecologique/front/src/components/auth/Login.js"],"names":["React","Component","MDBRow","MDBCol","MDBInput","MDBBtn","MDBCard","MDBCardBody","MDBModalFooter","MDBIcon","PropTypes","connect","loginUser","classnames","Link","Login","state","modal","toggle","setState","onChange","e","target","id","value","onSubmit","preventDefault","userData","email","password","props","errors","auth","isAuthenticated","history","push","nextProps","handleSubmit","handleInputChange","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { MDBRow, MDBCol, MDBInput, MDBBtn, MDBCard, MDBCardBody, MDBModalFooter, MDBIcon } from 'mdbreact';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  state = {\n    modal: false\n  }\n\n  toggle = () => {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/Admin\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/Admin\");\n    }\n\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props.loginUser(userData);\n  };\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      <div className=\"container-fluid\" id=\"fond3\">\n        <MDBRow>\n          <MDBCol md=\"0,5\"></MDBCol>\n            <MDBCol md=\"6\" className=\"mx-auto mt-2\">\n              <MDBCard id=\"card\">\n                <MDBCardBody className=\"mx-2\">\n                <h3 className=\"dark-grey-text text-center\"><strong>Connexion</strong></h3>\n                  <form onSubmit={ this.handleSubmit }>\n                    <div id=\"mail\">\n                      <MDBInput label=\"Adress email\" group type=\"email\" validate error=\"wrong\" success=\"right\" \n                      className={classnames('form-control form-control-lg', {'is-invalid': errors.email })} name=\"email\"\n                      onChange={ this.handleInputChange }\n                      value={ this.state.email }/>\n                    {errors.email && (<div className=\"invalid-feedback\">{errors.email}</div>)}\n                    </div>\n                    <div id=\"password\">\n                      <MDBInput label=\"Mot de passe\" group type=\"password\" validate containerClass=\"mb-0\" \n                      className={classnames('form-control form-control-lg', {'is-invalid': errors.password })} name=\"password\"\n                      onChange={ this.handleInputChange }\n                      value={ this.state.password }/>\n                      {errors.password && (<div className=\"invalid-feedback\">{errors.password}</div>)}\n                    </div>\n                    <div className=\"text-center pt-3 mb-3\" id=\"mail2\">\n                      <MDBBtn type=\"submit\" gradient=\"purple\" id=\"bt\" ><a >Connexion</a></MDBBtn>\n                    </div>\n\n                    <div className=\"row my-3 d-flex justify-content-center\" id=\"mail3\">\n                      <p className=\"dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\"> or Sign up with:</p>\n                      <MDBRow>\n                        <MDBCol md=\"4\">\n                          <MDBBtn type=\"button\" color=\"white\" rounded className=\"mr-md-3 z-depth-1a\"><MDBIcon fab icon=\"facebook-f\" className=\"blue-text text-center\" /></MDBBtn>\n                        </MDBCol>\n                        <MDBCol md=\"4\">\n                          <MDBBtn type=\"button\" color=\"white\" rounded className=\"mr-md-3 z-depth-1a\"><MDBIcon fab icon=\"twitter\" className=\"blue-text\" /></MDBBtn>\n                        </MDBCol>\n                        <MDBCol md=\"4\">\n                          <MDBBtn type=\"button\" color=\"white\" rounded className=\"z-depth-1a\"><MDBIcon fab icon=\"google-plus-g\" className=\"blue-text\" /></MDBBtn>\n                        </MDBCol>\n                      </MDBRow>\n                    </div>\n                  </form>\n                 \n                </MDBCardBody>\n                <MDBModalFooter className=\"mx-5 pt-3 mb-1\" id=\"mail4\">\n                  <p className=\"grey-text d-flex justify-content-end\">Already a member? <a href=\"#!\" className=\"blue-text ml-1\">Connexion</a></p>\n                </MDBModalFooter>\n              </MDBCard>\n            </MDBCol>\n          </MDBRow>\n\n    {/* <div className=\"row\">\n        <div className=\"col-md-4\"></div>\n        <div className=\"col-md-4\" id=\"loginrow\">\n        <MDBRow>\n          <MDBCol md=\"12\">\n            <form noValidate onSubmit={this.onSubmit}>\n              <p className=\"h5 text-center mb-4\" id=\"loginp\">Connexion</p>\n              <div className=\"grey-text\">\n                <MDBInput\n                  label=\"Votre adresse e-mail\"\n                  icon=\"envelope\"\n                  group\n                  type=\"email\"\n                  success=\"right\"\n                  id=\"email\"\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  // error={errors.email}\n                  className={classnames(\"\", {\n                    invalid: errors.email || errors.emailnotfound\n                  })}\n\n                />\n                 <span className=\"red-text\">\n                  {errors.email}\n                  {errors.emailnotfound}\n                </span>\n                <MDBInput\n                  label=\"Votre mot de passe\"\n                  icon=\"lock\"\n                  group\n                  type=\"password\"\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  // error={errors.password}\n                  id=\"password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password || errors.passwordincorrect\n                  })}\n                />\n                 <span className=\"red-text\">\n                  {errors.password}\n                  {errors.passwordincorrect}\n                </span>\n              </div>\n              <div className=\"text-center\">\n                <MDBBtn type=\"submit\" gradient=\"purple\" id=\"bt\" >Se Connecter</MDBBtn>\n              </div>\n            </form>\n            Vers &nbsp; <Link to=\"/\">Accueil</Link>\n          </MDBCol>\n        </MDBRow>\n        </div>\n        <div className=\"col-md-4\"></div>\n    </div> */}\n       \n        </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);\n"]},"metadata":{},"sourceType":"module"}